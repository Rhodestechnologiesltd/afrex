<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="asc_commercial_invoice_header">
        <t t-set="o" t-value="o.with_context(lang=lang)"/>
        <style>
            table, th, td {
            border:0px solid white;
            }
        </style>
        <div style="font-size: 12px; margin-top: 10%; margin-left: 5%; margin-right: 5%; padding-bottom: 0px;">
            <div class="row mb8">
                <div class="col-5" style="margin-right: 5px;">
                    <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)"
                         style="margin-top: 5px; margin-bottom: 20px; max-height: 90px;" alt="Logo"/>
                    <table style="font-size: 12px; width:100%; margin-bottom:15px; border: 1px solid;">
                        <style>
                            tr, th, td {
                            border: 0px solid white;
                            }
                            td {
                            padding-left: 5px;
                            }
                        </style>
                        <tr>
                            <td>
                                <b>
                                    <span style="display: inline-block; border-bottom: 1pt solid black;">Sold to:
                                    </span>
                                </b>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>
                                    <span t-field="o.partner_id.name"/>
                                </strong>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span t-field="o.partner_id.address_text"/>
                            </td>
                        </tr>
                        <t t-if="o.company_id.x_display_partner_child and o.partner_id.child_ids">
                            <t t-set="partner_children"
                               t-value="o.partner_id.child_ids.sorted(key=lambda l: (l.create_date))"/>
                            <t t-foreach="partner_children" t-as="partner_child">
                                <tr t-if="partner_child.name">
                                    <td>
                                        Contact Person:
                                        <span t-field="partner_child.name"/>
                                    </td>
                                </tr>
                                <tr t-if="partner_child.email">
                                    <td>
                                        Email:
                                        <span t-field="partner_child.email"/>
                                    </td>
                                </tr>
                                <tr t-if="partner_child.phone">
                                    <td>
                                        Phone:
                                        <span t-field="partner_child.phone"/>
                                    </td>
                                </tr>
                            </t>
                        </t>
                    </table>
                    <table t-if="o.consignee_id"
                           style="font-size: 12px; width:100%; margin-bottom:15px; border: 1px solid;">
                        <style>
                            tr, th, td {
                            border: 0px solid white;
                            }
                            td {
                            padding-left: 5px;
                            }
                        </style>
                        <tr>
                            <td>
                                <b>
                                    <span style="display: inline-block; border-bottom: 1pt solid black;">
                                        Consignee:
                                    </span>
                                </b>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>
                                    <span t-field="o.consignee_id.name"/>
                                </strong>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span t-field="o.consignee_id.address_text"/>
                            </td>
                        </tr>
                        <t t-if="o.company_id.x_display_partner_child and o.consignee_id.child_ids">
                            <t t-set="partner_children"
                               t-value="o.consignee_id.child_ids.sorted(key=lambda l: (l.create_date))"/>
                            <t t-foreach="partner_children" t-as="partner_child">
                                <tr t-if="partner_child.name">
                                    <td>
                                        Contact Person:
                                        <span t-field="partner_child.name"/>
                                    </td>
                                </tr>
                                <tr t-if="partner_child.email">
                                    <td>
                                        Email:
                                        <span t-field="partner_child.email"/>
                                    </td>
                                </tr>
                                <tr t-if="partner_child.phone">
                                    <td>
                                        Phone:
                                        <span t-field="partner_child.phone"/>
                                    </td>
                                </tr>
                            </t>
                        </t>
                    </table>
                </div>
                <div class="col-7 text-end mb-2">
                    <table class="table-lg mb-1" style="width: 70%; margin-left: 30%; border: 1px solid;">
                        <tr>
                            <th valign="middle" class="h5"
                                style="text-align: center; padding-top: 5px; padding-bottom: 5px;">
                                COMMERCIAL INVOICE
                            </th>
                        </tr>
                    </table>
                    <table class="table table-sm table-borderless"
                           style="width: 70%; margin-left: 30%; border: 0px solid white;">
                        <tr>
                            <th style="text-align: start; padding: 0;">
                                <span t-field="o.company_id.name"/>
                            </th>
                        </tr>
                        <tr>
                            <td style="text-align: start; padding: 0;">
                                <span>Suite 420, 4th Floor, Barkly Wharf Building</span>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: start; padding: 0;">
                                <span>Caudan Waterfront, Port Louis</span>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: start; padding: 0;">
                                <span>Mauritius</span>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: start; padding: 0;">
                                <span>Email: DL-AfrexSupplier@supergrp.com</span>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: start; padding: 0;">
                                <span>Tel: +230 271 1176</span>
                                <span style="padding-left: 10px;">Fax: +230 211 8959</span>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: start; padding: 0;">
                                <span>Website: www.supergrp.com</span>
                            </td>
                        </tr>
                    </table>
                    <table class="table-sm table-borderless mb-2 mx-0"
                           style="font-size: 12px; width: 100%; border: 0px solid white;">
                        <tr t-if="o.name">
                            <th style="width:65%; text-align: right; padding-top:0px; padding-right:5px;">Invoice
                                Number:
                            </th>
                            <th style="width:35%; text-align: left;">
                                <span t-field="o.name"/>
                            </th>
                        </tr>
                        <tr t-if="o.invoice_date">
                            <th style="width:65%; text-align: right; padding-top:0px; padding-right:5px;">Date:</th>
                            <th style="width:35%; text-align: left;">
                                <span t-esc="o.invoice_date.strftime('%d-%B-%Y')"/>
                            </th>
                        </tr>
                        <tr>
                            <th style="width:65%; text-align: right; padding-top:0px; padding-right:5px;">Pages:
                            </th>
                            <th style="width:35%; text-align: left;">
                                <span>1 of 1</span>
                            </th>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </template>

    <template id="asc_commercial_invoice_template">
        <t t-call="web.external_layout_standard">
            <t t-set="o" t-value="o.with_context(lang=lang)"/>
            <div class="page" style="margin-top:2em;">
                <t t-call="afrex_supply_chain.asc_commercial_invoice_header"/>
                <div class="col-6"
                     style="font-size: 12px; margin-top: 0%; margin-bottom: 0%; margin-left: 5%; margin-right: 5%; padding-bottom: 0px;">
                    <table style="font-size: 12px; width:100%; margin-bottom:15px; margin-top:20px; border: 1px solid;">
                        <style>
                            tr, th, td {
                            border: 0px solid white;
                            }
                            td {
                            padding-left: 5px;
                            }
                        </style>
                        <tr>
                            <th class="text-start" style="padding-top: 5px; padding-bottom: 5px;">
                                <span style="padding-left: 10px;" t-field="o.partner_id.name"/>
                                Purchase Order No:
                                <span t-if="o.ref" t-field="o.ref"/>
                                <span t-else="">To be confirmed</span>
                            </th>
                        </tr>
                    </table>
                </div>
                <table class="table table-sm o_main_table" name="invoice_line_table"
                       style="font-size: 12px; border:1px solid black; width:90%; margin-left:5%; margin-right:5%; page-break-inside: avoid; box-sizing: border-box; border-collapse: collapse;">
                    <thead>
                        <tr>
                            <th valign="middle" name="th_description" class="text-center"
                                style="width:40%; border:1px solid black; vertical-align: middle;">
                                <span>Description</span>
                            </th>
                            <th valign="middle" name="th_packaging" class="text-center"
                                style="width:15%; border:1px solid black; vertical-align: middle;">
                                <span>Packaging</span>
                            </th>
                            <th name="th_qty" class="text-center"
                                style="width:12%; border:1px solid black; padding: 0; margin: 0;">
                                <div style="display: table; width: 100%; border-collapse: collapse;">
                                    <div style="display: table-row;">
                                        <div style="display: table-cell; border-bottom: 1px solid black; text-align: center; padding: 2px 0; width: 100%;">
                                            Qty
                                        </div>
                                    </div>
                                    <div style="display: table-row;">
                                        <div style="display: table-cell; text-align: center; padding: 2px 0; width: 100%;">
                                            MT
                                        </div>
                                    </div>
                                </div>
                            </th>
                            <th name="th_price" class="text-center"
                                style="width:15%; border:1px solid black; padding: 0; margin: 0;">
                                <div style="display: table; width: 100%; border-collapse: collapse;">
                                    <div style="display: table-row;">
                                        <div t-if="o.incoterm_selection == 'dap'"
                                             style="display: table-cell; border-bottom: 1px solid black; text-align: center; padding: 2px 0; width: 100%;">
                                            DAP / MT
                                        </div>
                                        <div t-else=""
                                             style="display: table-cell; border-bottom: 1px solid black; text-align: center; padding: 2px 0; width: 100%;">
                                            Price / MT
                                        </div>
                                    </div>
                                    <div style="display: table-row;">
                                        <div style="display: table-cell; text-align: center; padding: 2px 0; width: 100%;">
                                            <span t-field="o.currency_id.name" t-options="{'widget': 'text'}"/>
                                        </div>
                                    </div>
                                </div>
                            </th>
                            <th name="th_total" class="text-center"
                                style="width:18%; border:1px solid black; padding: 0; margin: 0;">
                                <div style="display: table; width: 100%; border-collapse: collapse;">
                                    <div style="display: table-row;">
                                        <div style="display: table-cell; border-bottom: 1px solid black; text-align: center; padding: 2px 0; width: 100%;">
                                            Total
                                        </div>
                                    </div>
                                    <div style="display: table-row;">
                                        <div style="display: table-cell; text-align: center; padding: 2px 0; width: 100%;">
                                            <span t-field="o.currency_id.name" t-options="{'widget': 'text'}"/>
                                        </div>
                                    </div>
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody class="invoice_tbody">
                        <t t-set="lines"
                           t-value="o.invoice_line_ids.sorted(key=lambda l: (-l.sequence, -l.id), reverse=True)"/>
                        <t t-foreach="lines" t-as="line">
                            <tr valign="middle">
                                <td valign="middle"
                                    style="border: 1pt solid black; text-align: center; vertical-align: middle;">
                                    <t t-if="o.tariff_code">
                                        <div style="display: table; width: 100%; border-collapse: collapse;">
                                            <div style="display: table-row;">
                                                <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                    <span t-field="line.name" t-options="{'widget': 'text'}"/>
                                                </div>
                                            </div>
                                            <div style="display: table-row;">
                                                <div style="display: table-cell; padding: 2px 0; width: 100%;">
                                                    Tariff Code:
                                                    <span t-field="o.tariff_code" t-options="{'widget': 'text'}"/>
                                                </div>
                                            </div>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <span t-field="line.name" t-options="{'widget': 'text'}"/>
                                    </t>
                                </td>
                                <td valign="middle"
                                    style="border: 1pt solid black; text-align: center; vertical-align: middle;">
                                    <span t-field="line.packaging_id.name" t-options="{'widget': 'text'}"/>
                                </td>
                                <td valign="middle" class="text-end"
                                    style="border: 1pt solid black; text-align: center; vertical-align: middle;">
                                    <span class="text-nowrap" t-field="line.quantity"
                                          t-options="{'widget': 'float', 'precision': 3}"/>
                                </td>
                                <td valign="middle" class="o_price_total"
                                    style="border: 1pt solid black; vertical-align: middle;">
                                    <span t-field="line.currency_id.name"/>
                                    <span class="text-nowrap float-end" t-field="line.price_unit"
                                          t-options="{'widget': 'float', 'precision': 2}"/>
                                </td>
                                <td valign="middle" class="o_price_total"
                                    style="border: 1pt solid black; vertical-align: middle;">
                                    <span t-field="line.currency_id.name"/>
                                    <span class="text-nowrap float-end" t-field="line.price_total"
                                          t-options="{'widget': 'float', 'precision': 2}"/>
                                </td>
                            </tr>
                        </t>
                        <tr t-if="o.incoterm_selection not in ['dap','fca']">
                            <td colspan="5" style="border-bottom: 1px solid black; height: 5px;"/>
                        </tr>
                        <t t-if="o.incoterm_selection == 'cif'">
                            <tr>
                                <td colspan="1" style="border:1px solid black; vertical-align: middle;"/>
                                <th rowspan="3" valign="middle" class="text-center"
                                    style="border:1px solid black; vertical-align: middle;">
                                    <span>CIF Price Breakdown</span>
                                </th>
                                <th t-if="not o.is_internal" colspan="2"
                                    style="border:1px solid black; padding: 0; margin: 0;">
                                    <div style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span class="text-start">FOB</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span class="text-start">Insurance</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; padding: 2px 0; width: 100%;">
                                                <span>Freight</span>
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th t-else="" colspan="2" style="border:1px solid black; padding: 0; margin: 0;">
                                    <div style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span class="text-start">FOB</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span class="text-start">Insurance</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span>Freight</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span>Interest</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; padding: 2px 0; width: 100%;">
                                                <span>Procurement and Documentation</span>
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <td colspan="1" valign="middle" style="border:1px solid black; padding: 0; margin: 0;">
                                    <div t-if="not o.is_internal"
                                         style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.fob_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.fob_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.insurance_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.insurance_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.freight_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.freight_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div t-else="" style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.fob_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.fob_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.insurance_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.insurance_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.freight_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.freight_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.interest_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.interest_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.procurement_documentation_amount"
                                                      class="text-nowrap float-end" style="padding-right: 5px;"
                                                      t-field="o.procurement_documentation_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </t>
                        <t t-if="o.incoterm_selection == 'cfr'">
                            <tr>
                                <td colspan="1" style="border:1px solid black; vertical-align: middle;"/>
                                <th rowspan="2" valign="middle" class="text-center"
                                    style="border:1px solid black; vertical-align: middle;">
                                    <span>CFR Price Breakdown</span>
                                </th>
                                <th t-if="not o.is_internal" colspan="2"
                                    style="border:1px solid black; padding: 0; margin: 0;">
                                    <div style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span class="text-start">FOB</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; padding: 2px 0; width: 100%;">
                                                <span>Freight</span>
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th t-else="" colspan="2" style="border:1px solid black; padding: 0; margin: 0;">
                                    <div style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span class="text-start">FOB</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span>Freight</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span>Interest</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; padding: 2px 0; width: 100%;">
                                                <span>Procurement and Documentation</span>
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <td colspan="1" valign="middle" style="border:1px solid black; padding: 0; margin: 0;">
                                    <div t-if="not o.is_internal"
                                         style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.fob_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.fob_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.freight_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.freight_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div t-else="" style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.fob_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.fob_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.freight_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.freight_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.interest_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.interest_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.procurement_documentation_amount"
                                                      class="text-nowrap float-end" style="padding-right: 5px;"
                                                      t-field="o.procurement_documentation_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </t>
                        <t t-if="o.incoterm_selection == 'fob'">
                            <tr>
                                <td colspan="1" style="border:1px solid black; vertical-align: middle;"/>
                                <th rowspan="2" valign="middle" class="text-center"
                                    style="border:1px solid black; vertical-align: middle;">
                                    <span>FOB Price Breakdown</span>
                                </th>
                                <th t-if="not o.is_internal" colspan="2"
                                    style="border:1px solid black; padding: 0; margin: 0;">
                                    <div style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; padding: 2px 0; width: 100%;">
                                                <span>FOB</span>
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th t-else="" colspan="2" style="border:1px solid black; padding: 0; margin: 0;">
                                    <div style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span class="text-start">FOB</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span>Interest</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; padding: 2px 0; width: 100%;">
                                                <span>Procurement and Documentation</span>
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <td colspan="1" valign="middle" style="border:1px solid black; padding: 0; margin: 0;">
                                    <div t-if="not o.is_internal"
                                         style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.fob_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.fob_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div t-else="" style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.fob_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.fob_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.interest_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.interest_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; padding: 2px 0; width: 100%;">
                                                <span style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.procurement_documentation_amount"
                                                      class="text-nowrap float-end" style="padding-right: 5px;"
                                                      t-field="o.procurement_documentation_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-nowrap float-end"
                                                      style="padding-right: 5px;">
                                                    0.00
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </t>
                        <t t-if="o.incoterm_selection == 'dap' and o.show_breakdown">
                            <tr>
                                <td colspan="1" style="border:1px solid black; vertical-align: middle;"/>
                                <th rowspan="2" valign="middle" class="text-center"
                                    style="border:1px solid black; vertical-align: middle;">
                                    <span>DAP Price Breakdown</span>
                                </th>
                                <th t-if="not o.is_internal" colspan="2"
                                    style="border:1px solid black; padding: 0; margin: 0;">
                                    <div style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span class="text-start">FCA</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; padding: 2px 0; width: 100%;">
                                                <span>Transportation and Clearance</span>
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <th t-else="" colspan="2" style="border:1px solid black; padding: 0; margin: 0;">
                                    <div style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span class="text-start">FCA</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span>Transportation and Clearance</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span>Interest</span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="display: table-cell; padding: 2px 0; width: 100%;">
                                                <span>Procurement and Documentation</span>
                                            </div>
                                        </div>
                                    </div>
                                </th>
                                <td colspan="1" valign="middle" style="border:1px solid black; padding: 0; margin: 0;">
                                    <div t-if="not o.is_internal"
                                         style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span t-if="o.fca_amount" style="padding-left: 5px;"
                                                      t-field="o.currency_id.name"/>
                                                <span t-if="o.fca_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.fca_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-start" style="padding-left: 10px;">To be
                                                    confirmed
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; padding: 2px 0; width: 100%;">
                                                <span t-if="o.road_transportation_amount and o.show_transportation"
                                                      style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.road_transportation_amount and o.show_transportation"
                                                      class="text-nowrap float-end" style="padding-right: 5px;"
                                                      t-field="o.road_transportation_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-start" style="padding-left: 10px;">To be
                                                    confirmed
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div t-else="" style="display: table; width: 100%; border-collapse: collapse;">
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span t-if="o.fca_amount" style="padding-left: 5px;"
                                                      t-field="o.currency_id.name"/>
                                                <span t-if="o.fca_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.fca_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-start" style="padding-left: 10px;">To be
                                                    confirmed
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span t-if="o.road_transportation_amount and o.show_transportation"
                                                      style="padding-left: 5px;" t-field="o.currency_id.name"/>
                                                <span t-if="o.road_transportation_amount and o.show_transportation"
                                                      class="text-nowrap float-end" style="padding-right: 5px;"
                                                      t-field="o.road_transportation_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-start" style="padding-left: 10px;">To be
                                                    confirmed
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; border-bottom: 1px solid black; padding: 2px 0; width: 100%;">
                                                <span t-if="o.interest_amount" style="padding-left: 5px;"
                                                      t-field="o.currency_id.name"/>
                                                <span t-if="o.interest_amount" class="text-nowrap float-end"
                                                      style="padding-right: 5px;" t-field="o.interest_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-start" style="padding-left: 10px;">To be
                                                    confirmed
                                                </span>
                                            </div>
                                        </div>
                                        <div style="display: table-row;">
                                            <div style="text-align: left; display: table-cell; padding: 2px 0; width: 100%;">
                                                <span t-if="o.procurement_documentation_amount"
                                                      style="padding-left: 5px;"
                                                      t-field="o.currency_id.name"/>
                                                <span t-if="o.procurement_documentation_amount"
                                                      class="text-nowrap float-end" style="padding-right: 5px;"
                                                      t-field="o.procurement_documentation_amount"
                                                      t-options="{'widget': 'float', 'precision': 2}"/>
                                                <span t-else="" class="text-start" style="padding-left: 10px;">To be
                                                    confirmed
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
                <table class="table-sm table-borderless"
                       style="width:90%; margin-left: 5%; margin-right: 5%; font-size: 12px; border: 0px solid white;">
                    <tr valign="middle" style="padding-bottom: 0;">
                        <td valign="middle" style="text-align:left; padding-bottom: 0;">
                            <span>Amount in Words (<span t-field="o.currency_id.name"/>):
                            </span>
                        </td>
                    </tr>
                    <tr style="padding-top: 0;">
                        <th class="text-nowrap" style="width:72%; text-align: left;">
                            <strong>
                                <span t-field="o.number_to_words" t-options="{'widget': 'text'}"></span>
                            </strong>
                        </th>
                        <th class="text-nowrap" style="width:10%; text-align: right; word-spacing: 4px;">Total Amount
                            Due
                        </th>
                        <th class="text-nowrap text-start"
                            style="width:18%; border-top: 1pt solid black; border-bottom: 3pt double black;">
                            <span t-field="o.currency_id.name"/>
                            <strong>
                                <span class="float-end" t-field="o.amount_total"
                                      t-options="{'widget': 'float', 'precision': 2}"/>
                            </strong>
                        </th>
                    </tr>
                </table>
                <div class="row mt-3 mb-2" style="width:90%; margin-left: 5%;">
                    <table class="table-borderless" style="width: 55%; font-size:12px;">
                        <tr>
                            <th class="text-start" style="width:35%; padding-left: 5px;">
                                <span style="padding-left; 5px;">Incoterms (
                                    <span t-field="o.incoterm_implementation_year"/>
                                    )
                                </span>
                                <span style="padding-right:5px;">:</span>
                            </th>
                            <th class="text-start">
                                <span t-field="o.invoice_incoterm_id.code"/>
                                <span t-field="o.discharge_port_id.name"/>
                            </th>
                        </tr>
                        <tr t-if="o.vessel_voyage_lines">
                            <th class="text-start" style="padding-left: 5px;">
                                <span style="padding-left: 5px;">Vessel and Voyage</span>
                                <span style="padding-right: 5px;">:</span>
                            </th>
                            <th class="text-start">
                                <t t-foreach="o.vessel_voyage_lines.split('\n')" t-as="pair">
                                    <div>
                                        <span t-esc="pair"/>
                                    </div>
                                </t>
                            </th>
                        </tr>
                        <tr>
                            <th class="text-start" style="padding-left: 5px;">
                                <span t-if="o.supplier_delivery_method == 'road'" style="padding-left; 5px;">Place of
                                    Loading
                                </span>
                                <span t-if="o.supplier_delivery_method == 'sea'" style="padding-left: 5px;">Port of
                                    Loading
                                </span>
                                <span style="padding-right:5px;">:</span>
                            </th>
                            <th class="text-start">
                                <span t-field="o.loading_port_id.name"/>
                            </th>
                        </tr>
                        <tr>
                            <th class="text-start" style="padding-left: 5px;">
                                <span t-if="o.supplier_delivery_method == 'road'" style="padding-left; 5px;">Place of
                                    Delivery
                                </span>
                                <span t-if="o.supplier_delivery_method == 'sea'" style="padding-left; 5px;">Port of
                                    Discharge
                                </span>
                                <span style="padding-right:5px;">:</span>
                            </th>
                            <th class="text-start">
                                <span t-field="o.discharge_port_id.name"/>
                            </th>
                        </tr>
                        <tr t-if="o.sob_date">
                            <th class="text-start" style="padding-left: 5px;">
                                <span style="padding-left; 5px;">Shipped on Board Date</span>
                                <span style="padding-right:5px;">:</span>
                            </th>
                            <th class="text-start">
                                <t t-if="o.sob_date">
                                    <span t-esc="o.sob_date.strftime('%d-%B-%Y')"/>
                                </t>
                            </th>
                        </tr>
                        <tr t-if="o.expected_arrival_date">
                            <th class="text-start" style="padding-left: 5px;">
                                <span style="padding-left; 5px;">Estimated Arrival Date</span>
                                <span style="padding-right:5px;">:</span>
                            </th>
                            <th class="text-start">
                                <t t-if="o.expected_arrival_date">
                                    <span t-esc="o.expected_arrival_date.strftime('%d-%B-%Y')"/>
                                </t>
                            </th>
                        </tr>
                        <tr>
                            <th class="text-start" style="padding-left: 5px;">
                                <span style="padding-left; 5px;">Payment Terms</span>
                                <span style="padding-right:5px;">:</span>
                            </th>
                            <th class="text-start">
                                <span t-field="o.invoice_payment_term_id.name"/>
                            </th>
                        </tr>
                        <tr t-if="o.invoice_date_due">
                            <th class="text-start" style="padding-left: 5px;">
                                <span style="padding-left; 5px;">Payment Due Date</span>
                                <span style="padding-right:5px;">:</span>
                            </th>
                            <th class="text-start">
                                <t t-if="o.invoice_date_due">
                                    <span t-esc="o.invoice_date_due.strftime('%d-%B-%Y')"/>
                                    <t t-if="o.is_date_due_indicative">
                                        <br/>
                                        <span t-field="o.due_date_text"/>
                                    </t>
                                </t>
                            </th>
                        </tr>
                        <tr t-if="o.container_stuffing > 0">
                            <th class="text-start" style="padding-left: 5px;">
                                <span style="padding-left; 5px;">Number of Packages</span>
                                <span style="padding-right:5px;">:</span>
                            </th>
                            <th class="text-start">
                                <span t-field="o.container_stuffing"/>
                                x
                                <span t-field="o.packaging_id.name"/>
                            </th>
                        </tr>
                        <tr t-if="o.net_weight > 0">
                            <th class="text-start" style="padding-left: 5px;">
                                <span style="padding-left; 5px;">Net Weight</span>
                                <span style="padding-right:5px;">:</span>
                            </th>
                            <th class="text-start">
                                <t t-if="o.net_weight > 0">
                                    <span t-field="o.net_weight" t-options="{'widget': 'float', 'precision': 2}"/>
                                    Kg
                                </t>
                            </th>
                        </tr>
                        <t t-if="o.breakbulk_container == 'container'">
                            <tr t-if="o.container_count > 0">
                                <th class="text-start" style="padding-left: 5px;">
                                    <span style="padding-left; 5px;">Number of Containers</span>
                                    <span style="padding-right:5px;">:</span>
                                </th>
                                <th class="text-start">
                                    <t t-if="o.container_count > 0">
                                        <span t-field="o.container_count"/>
                                        x
                                        <span t-field="o.container_type_id.name"/>
                                    </t>
                                </th>
                            </tr>
                            <tr t-if="o.container_list">
                                <th class="text-start" style="padding-left: 5px;">
                                    <span style="padding-left: 5px;">Container No</span>
                                    <span style="padding-right:5px;">:</span>
                                </th>
                                <th class="text-start">
                                    <t t-if="o.container_list">
                                        <span t-field="o.container_list"/>
                                    </t>
                                </th>
                            </tr>
                        </t>
                        <tr>
                            <th class="text-start" style="padding-left: 5px;">
                                <span style="padding-left: 5px;">Country of Origin</span>
                                <span style="padding-right:5px;">:</span>
                            </th>
                            <th class="text-start">
                                <t t-if="o.origin_country_id">
                                    <span t-field="o.origin_country_id.name"/>
                                </t>
                                <t t-else="">
                                    <span>To be confirmed</span>
                                </t>
                            </th>
                        </tr>
                    </table>
                    <table class="table-borderless" style="width: 45%; font-size:12px;">
                        <tr>
                            <td style="width: 100%;">
                                <b>
                                    <span>Shipping Documents to be provided:</span>
                                </b>
                            </td>
                        </tr>
                        <t t-set="shipping_docs" t-value="o.outgoing_doc_ids.sorted(key=lambda l: (l.name))"/>
                        <t t-if="shipping_docs">
                            <t t-foreach="shipping_docs" t-as="shipping_doc">
                                <tr>
                                    <td class="text-start">
                                        -
                                        <span style=" padding-left: 5px;" t-field="shipping_doc.name"/>
                                    </td>
                                </tr>
                            </t>
                        </t>
                    </table>
                </div>
                <t>
                    <t t-if="o.partner_bank_id" t-set="bank" t-value="o.partner_bank_id"/>
                    <div class="row">
                        <div class="col-7 mt-2"
                             style="font-size: 12px; margin-top: 0%; margin-bottom: 0%; margin-left: 5%; padding-bottom: 0px;">
                            <table style="font-size: 12px; width:100%; margin-bottom:15px; border: 1px solid;">
                                <style>
                                    tr, th, td {
                                    border: 0px solid white;
                                    }
                                    td {
                                    padding-left: 5px;
                                    }
                                </style>
                                <tr>
                                    <td class="text-start" style="padding-left: 5px;">
                                        <strong>
                                            <span>
                                                <u>
                                                    <span t-field="bank.description"/>
                                                    Account Details:
                                                </u>
                                            </span>
                                        </strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="height:3px;"/>
                                </tr>
                                <tr>
                                    <td class="text-start" style="padding-left: 5px;">
                                        <span>Beneficiary Account Name:
                                            <span t-field="bank.acc_holder_name"/>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-start" style="padding-left: 5px;">
                                        <span>Beneficiary Account Number:
                                            <span t-field="bank.acc_number"/>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-start" style="padding-left: 5px;">
                                        <span>IBAN:
                                            <span t-field="bank.iban"/>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-start" style="padding-left: 5px;">
                                        <span>Beneficiary Bank SWIFT Code:
                                            <span t-field="bank.bank_id.bic"/>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-start" style="padding-left: 5px;">
                                        <span>Beneficiary Bank Name:
                                            <span t-field="bank.bank_id.name"/>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-start" style="padding-left: 5px;">
                                        <span>
                                            <span t-field="bank.bank_id.address_text"/>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-start" style="padding-left: 5px;">
                                        <span>Correspondent Bank SWIFT Code:
                                            <span t-field="bank.correspondent_bank_id.bic"/>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-start" style="padding-left: 5px;">
                                        <span>Correspondent Bank Name:
                                            <span t-field="bank.correspondent_bank_id.name"/>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-start" style="padding-left: 5px;">
                                        <span>
                                            <span t-field="bank.correspondent_bank_id.address_text"/>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="height:3px;"/>
                                </tr>
                            </table>
                        </div>
                        <div class="col-5"
                             style="font-size: 12px; margin-top: 0%; margin-bottom: 0%; margin-right: 5%; padding-bottom: 0px;">
                            <img t-if="o.company_id.seal" t-att-src="image_data_uri(o.company_id.seal)"
                                 style="margin-top: 50px; padding-left: 20px; max-height: 110px;" alt="Company Seal"/>
                            <br/>
                            <br/>
                            <br/>
                            <span style="padding-left: 150px;" t-if="o.invoice_date">Date:</span>
                            <span t-if="o.invoice_date" t-esc="o.invoice_date.strftime('%d-%B-%Y')"/>
                        </div>
                    </div>
                </t>
            </div>
        </t>
    </template>

    <template id="report_asc_commercial_invoice">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="afrex_supply_chain.asc_commercial_invoice_template" t-lang="o.partner_id.lang"/>
            </t>
        </t>
    </template>

</odoo>